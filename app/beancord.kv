<TextInput>
    size_hint: (0.5, 0.1)

<SenderLabel>
    bold: True
    size_hint_x: 0.25
    valign: "middle"

<MessageLabel>
    text_size: self.size
    halign: "left"
    valign: "middle"


<LoginWindow>:
    name: "login"

    username_entry: username
    ip_entry: ip
    port_entry: port

    # Username Entry
    Label:
        text: "Username:"
        pos_hint: {"y": 0.9, "right": 0.5}
        size_hint: (0.5, 0.1)
        font_size: 20

    TextInput:
        id: username
        multiline: False
        pos_hint: {"y": 0.9, "right": 1}

    # Address Entry
    Label:
        text: "Server Address:"
        pos_hint: {"y": 0.75, "right": 0.5}
        size_hint: (0.5, 0.1)
        font_size: 20

    TextInput:
        id: ip
        multiline: False
        pos_hint: {"y": 0.75, "right": 1}

    # Port Entry
    Label:
        text: "Server Port:"
        pos_hint: {"y": 0.6, "right": 0.5}
        size_hint: (0.5, 0.1)
        font_size: 20

    TextInput:
        id: port
        hint_text: "(Optional)"
        multiline: False
        pos_hint: {"y": 0.6, "right": 1}

    # Connect Button
    Button:
        text: "Connect"
        pos_hint: {"x": 0.3, "y": 0.2}
        size_hint: (0.4, 0.2)
        on_press: root.connect()


<MainWindow>:
    name: "main"

    scroll_view: scroll
    messages_grid: messages
    message_entry: message_input

    ScrollView:
        id: scroll
        do_scroll_x: False
        do_scroll_y: True

        GridLayout:
            id: messages
            cols: 2
            pos_hint: {"left": 0, "top": 1}
            size_hint: (1, None)
            row_default_height: 40
            row_force_default: True
            height: self.minimum_height + self.row_default_height * 2

            SenderLabel:
                text: "Tutorial Man"

            MessageLabel:
                text: "Hey there Beancord user. What's good?"

    GridLayout:
        cols: 2
        pos_hint: {"left": 0, "top": 0.1}
        size_hint_y: 0.1

        TextInput:
            id: message_input
            text_hint: "Your message..."
            multiline: False

        Button:
            text: "Send"
            size_hint_x: 0.1
            on_press: root.send_message()
